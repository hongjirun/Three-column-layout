<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 创建发送请求的对象
    let xhr=new XMLHttpRequest();
    // 当请求状态发生改变时运行的函数
    xhr.onreadystatechange=function(){
      // xhr.readyState：一个数字，用于判断请求到那个状态
      // 1.open方法已经被调用
      // 2.send方法已经被调用
      // 3.正在接收服务器的响应消息体
      // 4.服务器响应的内容均已接收完毕
      console.log(xhr.readyState);//会根据状态打印数字
      // xhr.responseText为获取服务器响应的消息体文本
      console.log(JSON.parse(xhr.responseText));
      // xhr.getResponseHeader("Content-Type")为获取响应头Content-Type
      console.log(xhr.getResponseHeader);
    }
    // xhr.open("请求方法","url地址"),配置请求
    xhr.open("get","https://study.duyiedu.com/api/herolist");
    // xhr.setRequestHeader("Content-Type","application/json"),设置请求头
    xhr.setRequestHeader("Content-Type","application/json");
    // xhr.send("请求体内容"),构建请求体,发送到服务器,如果没有请求体,传递null
    xhr.send(null);
    
  </script>
</body>
</html>